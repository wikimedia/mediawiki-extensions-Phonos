{
	"manifest_version": 2,
	"name": "Phonos",
	"author": [
		"[https://meta.wikimedia.org/wiki/Community_Tech#Team Wikimedia Community Tech Team]"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:Phonos",
	"version": "0.1.0",
	"license-name": "GPL-2.0-or-later",
	"namemsg": "phonos",
	"descriptionmsg": "phonos-desc",
	"type": "parserhook",
	"requires": {
		"MediaWiki": ">= 1.38.0"
	},
	"config": {
		"PhonosEngine": {
			"value": "espeak",
			"description": "Backend TTS provider to use"
		},
		"PhonosApiEndpointLarynx": {
			"value": "https://larynx-tts.wmcloud.org/api/tts",
			"description": "API endpoint for the Larynx engine"
		},
		"PhonosApiEndpointGoogle": {
			"value": "https://texttospeech.googleapis.com/v1/text:synthesize",
			"description": "API endpoint for the Google engine"
		},
		"PhonosApiKeyGoogle": {
			"value": "",
			"description": "API key for the Google Cloud Text-to-speech API"
		},
		"PhonosApiProxy": {
			"value": false,
			"description": "HTTP proxy to use for API requests"
		},
		"PhonosFileBackend": {
			"value": false,
			"description": "Which backend to use for file caching"
		},
		"PhonosFileBackendDirectory": {
			"value": false,
			"description": "Custom directory to store cached Phonos audio"
		},
		"PhonosEspeak": {
			"value": "/usr/bin/espeak",
			"description": "Path to the eSpeak executable"
		},
		"PhonosLame": {
			"value": "/usr/bin/lame",
			"description": "Path to the Lame executable used for converting WAV to MP3"
		}
	},
	"MessagesDirs": {
		"Phonos": [ "i18n", "i18n/api" ]
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "Phonos/modules"
	},
	"ResourceModules": {
		"ext.phonos": {
			"es6": true,
			"packageFiles": [
				"ext.phonos.js",
				"PhonosButton.js"
			],
			"styles": [
				"PhonosButton.less"
			],
			"messages": [
				"phonos",
				"phonos-desc",
				"phonos-file-not-found",
				"phonos-player-aria-description"
			],
			"dependencies": [
				"mediawiki.api",
				"oojs-ui-widgets",
				"oojs-ui.styles.icons-media"
			],
			"targets": [
				"mobile",
				"desktop"
			]
		}
	},
	"ExtensionMessagesFiles": {
		"PhonosMagic": "Phonos.i18n.php"
	},
	"Hooks": {
		"ParserFirstCallInit": "PhonosHooks"
	},
	"HookHandlers": {
		"PhonosHooks": {
			"class": "MediaWiki\\Extension\\Phonos\\Phonos",
			"services": [ "RepoGroup" ]
		}
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\Phonos\\": "includes/"
	},
	"APIModules": {
		"phonos": {
			"class": "MediaWiki\\Extension\\Phonos\\PhonosApi",
			"services": [
				"Phonos.Engine"
			]
		}
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	]
}
